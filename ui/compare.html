<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Compare Documents</title>
</head>
<body>
  <h2>Compare Documents</h2>
  <input id="doc1" type="text" placeholder="Document 1 (S3 path)" size="50">
  <input id="doc2" type="text" placeholder="Document 2 (S3 path)" size="50">
  <button onclick="callCompareAPI()">Compare</button>
  <div id="compareResult"></div>

  <p><a href="ingest.html">Go to Ingest</a> | <a href="rag.html">Go to RAG</a></p>

  <script src="common.js"></script>
  <script>
    checkSessionOrRedirect();
    const { project_name, user_id, session_id } = getSessionInfo();

    async function callCompareAPI() {
      const payload = {
        route: "/doc_compare",
        project_name, user_id, session_id,
        document_1: document.getElementById("doc1").value,
        document_2: document.getElementById("doc2").value
      };
      const res = await fetch(API_URL, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(payload)
      });
      renderJSON("compareResult", await res.json());
    }
  </script>
</body>
</html>
